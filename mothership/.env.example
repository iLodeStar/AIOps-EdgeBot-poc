# Mothership environment configuration (example)
# Copy to .env and customize for your deployment

# Server Configuration
MOTHERSHIP_HOST=0.0.0.0
MOTHERSHIP_PORT=8443
MOTHERSHIP_LOG_LEVEL=info

# Database Configuration
MOTHERSHIP_DB_HOST=localhost
MOTHERSHIP_DB_PORT=5432
MOTHERSHIP_DB_NAME=mothership
MOTHERSHIP_DB_USER=mothership
MOTHERSHIP_DB_PASS=mothership

# Storage Sinks Configuration
TSDB_ENABLED=true
LOKI_ENABLED=false
LOKI_URL=http://localhost:3100

# LLM Enhancement (Optional)
MOTHERSHIP_LLM_ENABLED=false
# MOTHERSHIP_LLM_ENDPOINT=https://api.openai.com/v1
# MOTHERSHIP_LLM_API_KEY=your-api-key-here
# MOTHERSHIP_LLM_MODEL=gpt-3.5-turbo

# ======= SATCOM/At-Sea Reliability Enhancements =======

# Per-Sink Retry Configuration (SATCOM-friendly defaults)
# These settings optimize for unreliable satellite connections
SINK_DEFAULT_MAX_RETRIES=5
SINK_DEFAULT_INITIAL_BACKOFF_MS=500
SINK_DEFAULT_MAX_BACKOFF_MS=30000  # 30 seconds max
SINK_DEFAULT_JITTER_FACTOR=0.2  # 20% jitter to prevent thundering herd
SINK_DEFAULT_TIMEOUT_MS=5000  # 5 second timeout

# Circuit Breaker Configuration
# Prevents cascading failures when sinks are unhealthy
SINK_DEFAULT_FAILURE_THRESHOLD=5  # Trip after 5 consecutive failures
SINK_DEFAULT_OPEN_DURATION_SEC=60  # Stay open for 60 seconds
SINK_DEFAULT_HALF_OPEN_MAX_INFLIGHT=1  # Only 1 test request in half-open

# Idempotency (Prevents duplicate processing on retry)
IDEMPOTENCY_WINDOW_SEC=3600  # 1 hour deduplication window